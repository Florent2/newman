<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title>newman.rb</title>
  <link rel="stylesheet" href="http://jashkenas.github.com/docco/resources/docco.css">
</head>
<body>
<div id='container'>
  <div id="background"></div>
  <div id="jump_to">
    Jump To &hellip;
    <div id="jump_wrapper">
      <div id="jump_page">
          <a class="source" href="newman.html">newman.rb</a>
          <a class="source" href="newman/application.html">application.rb</a>
          <a class="source" href="newman/controller.html">controller.rb</a>
          <a class="source" href="newman/email_logger.html">email_logger.rb</a>
          <a class="source" href="newman/filters.html">filters.rb</a>
          <a class="source" href="newman/mailer.html">mailer.rb</a>
          <a class="source" href="newman/mailing_list.html">mailing_list.rb</a>
          <a class="source" href="newman/recorder.html">recorder.rb</a>
          <a class="source" href="newman/request_logger.html">request_logger.rb</a>
          <a class="source" href="newman/response_logger.html">response_logger.rb</a>
          <a class="source" href="newman/server.html">server.rb</a>
          <a class="source" href="newman/settings.html">settings.rb</a>
          <a class="source" href="newman/store.html">store.rb</a>
          <a class="source" href="newman/test_mailer.html">test_mailer.rb</a>
          <a class="source" href="newman/version.html">version.rb</a>
      </div>
    </div>
  </div>
  <table cellspacing=0 cellpadding=0>
  <thead>
    <tr>
      <th class=docs><h1>newman.rb</h1></th>
      <th class=code></th>
    </tr>
  </thead>
  <tbody>
    <tr id='section-External_Interface_(for_application_developers)'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-External_Interface_(for_application_developers)">&#182;</a>
        </div>
        <p><a href="https://github.com/mendicant-university/newman">Newman</a> is a 
microframework which aims to do for email-based applications what Rack and 
Sinatra have done for web programming. <strong>While our goals may be ambitious, 
this project is currently in a very early experimental stage, 
and is in no way safe for use in production.</strong></p>

<p>That said, we still welcome contributors to help us work on this project
as we collectively figure out what exactly Newman should be. Even in its
very early stages, Newman is already doing some useful things and provides
a wide range of application development features via its external interface
as well as extension points via its internal interface.</p>

<p>The documentation you&rsquo;re currently reading is meant to help explain Newman&rsquo;s
implementation to contributors and alpha testers. Before you dig deeper into
the source, make sure to read 
<a href="https://github.com/mendicant-university/newman">Newman&rsquo;s README</a>
as well as the <a href="https://github.com/mendicant-university/jester">Jester</a> demo
application.</p>

<p>Assuming you have done those things and are now familiar with the basic ideas
behind Newman, the following outline may help you in your explorations of
its source code.</p>

<h3>External Interface (for application developers)</h3>

<ul>
<li><p><a href="http://mendicant-university.github.com/newman/lib/newman/server.html">Newman::Server</a> 
takes incoming mesages from a mailer object and passes them to applications as a 
request, and then delivers a response email that built up by its
applications.</p></li>
<li><p><a href="http://mendicant-university.github.com/newman/lib/newman/application.html">Newman::Application</a>
provides the main entry point for Newman application developers, and exists to tie together 
various Newman objects in a convenient way.</p></li>
<li><p><a href="http://mendicant-university.github.com/newman/lib/newman/filters.html">Newman::Filters</a>
provides high level filters for matching incoming requests.</p></li>
<li><p><a href="http://mendicant-university.github.com/newman/lib/newman/controller.html">Newman::Controller</a>
provides a context for application callbacks to run in, and provides most of
the core functionality for preparing a response email.</p></li>
<li><p><a href="http://mendicant-university.github.com/newman/lib/newman/mailing_list.html">Newman::MailingList</a>
implements a simple mechanism for storing persistent lists of email addresses keyed 
by a mailing list name. </p></li>
<li><p><a href="http://mendicant-university.github.com/newman/lib/newman/store.html">Newman::Store</a> provides 
a minimal persistence layer for storing non-relational data.</p></li>
<li><p><a href="http://mendicant-university.github.com/newman/lib/newman/recorder.html">Newman::Recorder</a>
provides a mechanism for storing records with autoincrementing identifiers
within a <code>Newman::Store</code> and supports some rudimentary CRUD functionality.</p></li>
<li><p>Implicitly, the settings files used by Newman as well as the structure of
its low level data storage format are also considered part of external API,
even though these are actually implementation details. This is simply
because we want to make sure to clearly reflect backwards incompatible
changes to these features via our versioning policy, as this sort of
change could potentially cause update problems for application
developers.</p></li>
</ul>

<h3>Internal Interface (for extension developers)</h3>

<ul>
<li><p><a href="http://mendicant-university.github.com/newman/lib/newman/email_logger.html">Newman::EmailLogger</a>
provides rudimentary logging support for email objects, and primarily exists to 
support the <code>Newman::RequestLogger</code> and <code>Newman::ResponseLogger</code> objects.</p></li>
<li><p><a href="http://mendicant-university.github.com/newman/lib/newman/request_logger.html">Newman::RequestLogger</a>
provides a mechanism for logging information about incoming emails.</p></li>
<li><p><a href="http://mendicant-university.github.com/newman/lib/newman/response_logger.html">Newman::ResponseLogger</a>
provides a mechanism for logging information about outgoing emails.</p></li>
<li><p><a href="http://mendicant-university.github.com/newman/lib/newman/mailer.html">Newman::Mailer</a> provides a thin
wrapper on top of the <a href="http://github.com/mikel/mail">mail gem</a> which is
designed to have a minimal API so that it can easily be swapped out with
another mailer object.</p></li>
<li><p><a href="http://mendicant-university.github.com/newman/lib/newman/test_mailer.html">Newman::TestMailer</a> 
is a drop-in replacement for <code>Newman::Mailer</code> meant for use in automated testing. </p></li>
<li><p><a href="http://mendicant-university.github.com/newman/lib/newman/settings.html">Newman::Settings</a> provides
the base functionality that is used by Newman&rsquo;s configuration files. Note
that while this object is part of the internals, the settings actually used
by Newman should be considered part of the external API.</p></li>
</ul>

<h3>Getting help, or helping out:</h3>

<p>Please catch up with seacreature or ericgj in the #newman channel on Freenode,
or send an email to newman@librelist.org. We&rsquo;d love to hear any questions,
ideas, or suggestions you&rsquo;d like to share with us.</p>

      </td>
      <td class=code>
        <div class='highlight'><pre><span class="nb">require</span> <span class="s2">&quot;logger&quot;</span>
<span class="nb">require</span> <span class="s2">&quot;pstore&quot;</span>
<span class="nb">require</span> <span class="s2">&quot;ostruct&quot;</span>
<span class="nb">require</span> <span class="s2">&quot;fileutils&quot;</span>

<span class="nb">require</span> <span class="s2">&quot;mail&quot;</span>
<span class="nb">require</span> <span class="s2">&quot;tilt&quot;</span>

<span class="n">require_relative</span> <span class="s2">&quot;newman/email_logger&quot;</span>
<span class="n">require_relative</span> <span class="s2">&quot;newman/request_logger&quot;</span>
<span class="n">require_relative</span> <span class="s2">&quot;newman/response_logger&quot;</span>
<span class="n">require_relative</span> <span class="s2">&quot;newman/server&quot;</span>
<span class="n">require_relative</span> <span class="s2">&quot;newman/filters&quot;</span>
<span class="n">require_relative</span> <span class="s2">&quot;newman/application&quot;</span>
<span class="n">require_relative</span> <span class="s2">&quot;newman/controller&quot;</span>
<span class="n">require_relative</span> <span class="s2">&quot;newman/mailing_list&quot;</span>
<span class="n">require_relative</span> <span class="s2">&quot;newman/settings&quot;</span>
<span class="n">require_relative</span> <span class="s2">&quot;newman/store&quot;</span>
<span class="n">require_relative</span> <span class="s2">&quot;newman/recorder&quot;</span>
<span class="n">require_relative</span> <span class="s2">&quot;newman/mailer&quot;</span>
<span class="n">require_relative</span> <span class="s2">&quot;newman/test_mailer&quot;</span>
<span class="n">require_relative</span> <span class="s2">&quot;newman/version&quot;</span></pre></div>
      </td>
    </tr>
  </table>
</div>
</body>
